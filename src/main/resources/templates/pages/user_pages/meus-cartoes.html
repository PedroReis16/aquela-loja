<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Minha carteira</title>

  <link rel="stylesheet" th:href="@{/styles/reset.css}">
  <link rel="stylesheet" th:href="@{/styles/style.css}">

  <script th:src="@{/js/components/card.js}" defer></script>
</head>

<body>

  <header th:replace="~{fragments/header :: header}"></header>

  <main>
    <div class="card-header">
      <h2 id="cardPageTitle"><i></i> Meus cartões</h2>
      <a class="confirm-button" href="meus-cartoes/novo">Adicionar cartão</a>
    </div>

    <div class="cards-grid">
      <div class="card" th:each="card : ${userCards}">
        <div class="card-type">MASTERCARD</div>
        <!-- <div class="card-type" th:text="${card.bandeira}">MASTERCARD</div> -->
        <div class="card-number" th:text="${card.number}">**** **** **** 1234</div>
        <div class="card-info">
          <div class="card-holder" th:text="${card.holderName}">JOÃO SILVA</div>
          <div class="expiry" th:text="${card.expirationDate}">12/25</div>
        </div>
      </div>
    </div>


    <!-- Dialog para confirmar a exclusão da conta -->
    <div th:insert="~{/fragments/dialogs/edit-card-dialog::dialog}"></div>


  </main>

  <!-- <script th:src="@{/js/page_scripts/meus-cartoes.js}"></script> -->

  <script>
    // Dados simulados dos cartões
    // const cards = [
    //   {
    //     number: '**** **** **** 1234',
    //     holder: 'JOÃO SILVA',
    //     expiry: '12/25',
    //     type: 'VISA'
    //   },
    //   {
    //     number: '**** **** **** 5678',
    //     holder: 'JOÃO SILVA',
    //     expiry: '03/26',
    //     type: 'MASTERCARD'
    //   }
    // ];

    // // Função para renderizar os cartões
    // function renderCards() {
    //   const container = document.getElementById('cardsContainer');
    //   container.innerHTML = '';

    //   cards.forEach(card => {
    //     const cardElement = document.createElement('div');
    //     cardElement.className = 'card';
    //     cardElement.innerHTML = `
    //             <div class="card-type">${card.type}</div>
    //             <div class="card-number">${card.number}</div>
    //             <div class="card-info">
    //                 <div class="card-holder">${card.holder}</div>
    //                 <div class="expiry">${card.expiry}</div>
    //             </div>
    //         `;
    //     container.appendChild(cardElement);
    //   });
    // }

    // // Função para adicionar novo cartão (simulação)
    // function addNewCard() {
    //   const newCard = {
    //     number: '**** **** **** ' + Math.floor(1000 + Math.random() * 9000),
    //     holder: 'JOÃO SILVA',
    //     expiry: '12/26',
    //     type: Math.random() > 0.5 ? 'VISA' : 'MASTERCARD'
    //   };

    //   cards.push(newCard);
    //   renderCards();
    // }

    // // Renderizar cartões iniciais
    // renderCards();
  </script>
</body>

</html>